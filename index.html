<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Analizy Spotka≈Ñ</title>
    <style>
        :root {
            --primary-color: #2196F3;
            --success-color: #4CAF50;
            --warning-color: #FF9800;
            --danger-color: #F44336;
            --header-color: #00BCD4;
            --bg-color: #f5f5f5;
            --text-color: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header {
            color: var(--header-color);
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--header-color);
        }

        .meetings-section {
            margin-bottom: 30px;
        }

        .meeting-date {
            color: var(--primary-color);
            font-size: 1.5em;
            margin-top: 20px;
            padding: 10px;
            background-color: rgba(33, 150, 243, 0.1);
            border-radius: 4px;
        }

        .meeting-item {
            margin: 15px 0;
            padding: 15px;
            background-color: white;
            border-left: 4px solid var(--primary-color);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .meeting-time {
            font-weight: bold;
            color: var(--primary-color);
        }

        .meeting-title {
            font-size: 1.2em;
            margin: 5px 0;
        }

        .meeting-details {
            color: #666;
            font-size: 0.9em;
        }

        .analysis-section {
            margin-top: 40px;
        }

        .analysis-header {
            color: var(--header-color);
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .analysis-item {
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }

        .score-high {
            background-color: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--success-color);
        }

        .score-medium {
            background-color: rgba(255, 152, 0, 0.1);
            border-left: 4px solid var(--warning-color);
        }

        .score-low {
            background-color: rgba(244, 67, 54, 0.1);
            border-left: 4px solid var(--danger-color);
        }

        .emoji {
            font-size: 1.2em;
            margin-right: 5px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header {
                font-size: 1.5em;
            }

            .meeting-date {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="meetings-container">
            <div class="header">üìÖ System Analizy Spotka≈Ñ</div>
            <div class="meetings-section"></div>
            <div class="analysis-section"></div>
        </div>
    </div>

    <script>
        class Meeting {
            constructor(title, date, duration, participants, priority) {
                this.title = title;
                this.date = date;
                this.duration = duration;
                this.participants = participants;
                this.priority = priority;
                this.score = 0;
            }
        }

        class MeetingAnalyzer {
            constructor() {
                this.meetingPatterns = {
                    "Daily Standup": {
                        frequency: "daily",
                        typicalTime: "morning",
                        duration: 15,
                        participants: [4, 12],
                        priority: 8,
                        emoji: "‚≠ê"
                    },
                    "Sprint Planning": {
                        frequency: "bi-weekly",
                        typicalTime: "morning",
                        duration: 120,
                        participants: [5, 15],
                        priority: 9,
                        emoji: "üìÖ"
                    },
                    // Dodaj wiƒôcej wzorc√≥w spotka≈Ñ tutaj
                };
            }

            generateMeetings(startDate, daysAhead) {
                const meetings = [];
                let currentDate = new Date(startDate);
                const endDate = new Date(startDate);
                endDate.setDate(endDate.getDate() + daysAhead);

                while (currentDate <= endDate) {
                    Object.entries(this.meetingPatterns).forEach(([type, pattern]) => {
                        if (this.shouldScheduleMeeting(pattern.frequency, currentDate)) {
                            const meetingTime = this.getMeetingTime(pattern.typicalTime);
                            const meetingDate = new Date(currentDate);
                            meetingDate.setHours(meetingTime.hours, meetingTime.minutes);

                            const participants = this.getRandomNumber(
                                pattern.participants[0],
                                pattern.participants[1]
                            );

                            const meeting = new Meeting(
                                `${pattern.emoji} ${type}`,
                                meetingDate,
                                pattern.duration,
                                participants,
                                pattern.priority
                            );
                            meetings.push(meeting);
                        }
                    });
                    currentDate.setDate(currentDate.getDate() + 1);
                }

                return meetings.sort((a, b) => a.date - b.date);
            }

            shouldScheduleMeeting(frequency, date) {
                switch (frequency) {
                    case "daily":
                        return true;
                    case "weekly":
                        return date.getDay() === 1;
                    case "bi-weekly":
                        return date.getDay() === 1 && date.getDate() <= 7;
                    case "monthly":
                        return date.getDate() === 1;
                    default:
                        return false;
                }
            }

            getMeetingTime(typicalTime) {
                const hours = typicalTime === "morning" 
                    ? this.getRandomNumber(9, 11)
                    : this.getRandomNumber(14, 16);
                const minutes = [0, 15, 30, 45][this.getRandomNumber(0, 3)];
                return { hours, minutes };
            }

            getRandomNumber(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            analyzeMeetings(meetings) {
                const scores = meetings.map(meeting => ({
                    meeting: meeting,
                    score: this.calculateMeetingScore(meeting)
                }));

                return scores.sort((a, b) => b.score - a.score).slice(0, 7);
            }

            calculateMeetingScore(meeting) {
                let score = meeting.priority * 10;

                // Duration factor
                if (meeting.duration <= 30) score *= 1.2;
                else if (meeting.duration >= 180) score *= 0.8;

                // Participants factor
                if (meeting.participants >= 5 && meeting.participants <= 15) score *= 1.1;
                else if (meeting.participants > 25) score *= 0.9;

                // Time of day factor
                const hour = meeting.date.getHours();
                if ((hour >= 9 && hour <= 11) || (hour >= 14 && hour <= 16)) score *= 1.1;
                else if (hour < 8 || hour > 17) score *= 0.8;

                return Math.min(100, score);
            }
        }

        class ModernInterface {
            displayMeetings(meetings) {
                const container = document.querySelector('.meetings-section');
                let currentDate = null;

                meetings.forEach(meeting => {
                    const meetingDate = meeting.date.toLocaleDateString('pl-PL', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });

                    if (currentDate !== meetingDate) {
                        currentDate = meetingDate;
                        container.innerHTML += `
                            <div class="meeting-date">${meetingDate}</div>
                        `;
                    }

                    container.innerHTML += `
                        <div class="meeting-item">
                            <div class="meeting-time">
                                ${meeting.date.toLocaleTimeString('pl-PL', {
                                    hour: '2-digit',
                                    minute: '2-digit'
                                })}
                            </div>
                            <div class="meeting-title">${meeting.title}</div>
                            <div class="meeting-details">
                                Czas trwania: ${meeting.duration} min | 
                                Uczestnicy: ${meeting.participants}
                            </div>
                        </div>
                    `;
                });
            }

            displayAnalysis(analysisResults) {
                const container = document.querySelector('.analysis-section');
                container.innerHTML = '<div class="analysis-header">üìä Analiza Typ√≥w Spotka≈Ñ</div>';

                analysisResults.forEach((result, index) => {
                    const scoreClass = this.getScoreClass(result.score);
                    const feedback = this.getScoreFeedback(result.score);
                    
                    container.innerHTML += `
                        <div class="analysis-item ${scoreClass}">
                            <div class="meeting-title">
                                ${index + 1}. ${result.meeting.title}
                            </div>
                            <div class="meeting-details">
                                Wynik: ${result.score.toFixed(2)}/100
                                <br>
                                ${feedback}
                            </div>
                        </div>
                    `;
                });
            }

            getScoreClass(score) {
                if (score >= 80) return 'score-high';
                if (score >= 60) return 'score-medium';
                return 'score-low';
            }

            getScoreFeedback(score) {
                if (score >= 80) return 'üåü Wysoka efektywno≈õƒá';
                if (score >= 60) return '‚úÖ Spe≈Çnia oczekiwania';
                return '‚ö†Ô∏è Wymaga optymalizacji';
            }
        }

        // Inicjalizacja i uruchomienie aplikacji
        const analyzer = new MeetingAnalyzer();
        const interface = new ModernInterface();

        // Generowanie spotka≈Ñ na nastƒôpne 14 dni
        const startDate = new Date();
        const meetings = analyzer.generateMeetings(startDate, 14);
        
        // Wy≈õwietlanie harmonogramu
        interface.displayMeetings(meetings);
        
        // Analiza i wy≈õwietlanie wynik√≥w
        const analysisResults = analyzer.analyzeMeetings(meetings);
        interface.displayAnalysis(analysisResults);
    </script>
</body>
</html>
